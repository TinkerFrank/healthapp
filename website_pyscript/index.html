<html>

<head>
    <title>My First Pyscript Page</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>

<body>

    <py-config>
        packages = ["matplotlib", "pandas",'seaborn']
        [[fetch]]
        from = "https://raw.githubusercontent.com/TinkerFrank/healthapp/main/website_pyscript/"
        files = ["model.py"]
    </py-config>

    <py-script>
        print('Welcome User')
    </py-script>

    <h3> Scatterplot with rng inputs</h3>
    <div id='plot'></div>
    <py-script output="plot">
        import matplotlib.pyplot as plt
        from model import generate

        fig, ax = plt.subplots()
        x,y = generate(n=500)
        ax.scatter(x,y)
        display(fig, target="graph-area", append=False)

    </py-script>
    <div id="graph-area"></div>


    <py-script>
        print('Welcome User')
        x,y = generate(42)
        print(x,y)

        def calculation(x):
            # Get paragraph element by id
            paragraph = Element("output")
        
            # Add current time to the paragraph element
            paragraph.write(x*2)
            
    </py-script>

    <py-repl id="my-repl" auto-generate="true"></py-repl>

    <button py-click="calculation()" id="get-data" class="py-button">Get current time</button>
    <p id="current-time"></p>

    <p id="output"></p>

        

</body>

</html>